#
# Defaults
#
Create Both
Expunge Both
SyncState *

#
# Apple iCloud
#
IMAPAccount icloud
Host imap.mail.me.com
User julio.villasante@me.com
AuthMechs LOGIN
SSLType IMAPS
SSLVersions TLSv1
PassCmd "security find-generic-password -a Offlineimap -s julio.villasante@icloud.com -w"

IMAPStore icloud-remote
Account icloud

MaildirStore icloud-local
Path ~/.Maildir/icloud/
Inbox ~/.Maildir/icloud/Inbox
Trash trash

Channel icloud-folders
Master :icloud-remote:
Slave :icloud-local:
Patterns "INBOX" "Drafts" "Arch*" "Sent*" "Trash" "Junk" "Deleted*"

Group icloud
Channel icloud-folders

#
# Google GMail
#
IMAPAccount gmail
Host imap.gmail.com
User jvillasantegomez@gmail.com
PassCmd "security find-generic-password -a Offlineimap -s jvillasantegomez@gmail.com -w"
AuthMechs PLAIN
SSLType IMAPS
CertificateFile /usr/local/etc/openssl@1.1/cert.pem
# Throttle mbsync so we don't go over gmail's quota: OVERQUOTA error would
# eventually be returned otherwise. For more details see:
# https://sourceforge.net/p/isync/mailman/message/35458365/
PipelineDepth 50

IMAPStore gmail-remote
Account gmail

MaildirStore gmail-local
Path ~/.Maildir/gmail/
Inbox ~/.Maildir/gmail/Inbox

Channel gmail-inbox
Master :gmail-remote:
Slave :gmail-local:
Patterns "INBOX" "Arch*"

Channel gmail-starred
Master :gmail-remote:"[Gmail]/Starred"
Slave :gmail-local:Starred

Channel gmail-drafts
Master :gmail-remote:"[Gmail]/Drafts"
Slave :gmail-local:Drafts

Channel gmail-sent
Master :gmail-remote:"[Gmail]/Sent Mail"
Slave :gmail-local:Sent

Channel gmail-trash
Master :gmail-remote:"[Gmail]/Trash"
Slave :gmail-local:Trash

Channel gmail-archive
Master :gmail-remote:"[Gmail]/All Mail"
Slave :gmail-local:Archive

Group gmail
Channel gmail-inbox
Channel gmail-starred
Channel gmail-drafts
Channel gmail-sent
Channel gmail-trash
Channel gmail-archive
